---
layout: post
title: 'С небес на землю: как мне надоели облака'
date: 2021-01-23 22:09 +0300
---

Меня одного смущают все эти бесплатные облачные сервисы? Хранение файлов в Dropbox, Mega, Google Drive, Яндекс Диск или iCloud, бесплатный хостинг репозиториев на Github, Gitlab, Bitbucket, и десятках других менее популярных сервисов. Десять лет назад, в 2011, когда я начинал пользоваться этим, я мало задумывался о мотивации, ведь это была халява.

> Если вы за это не платите, вы не потребитель; вы — продаваемый продукт.

Но дело не только в бесплатных сервисах. Apple Music, Spotify, Яндекс Музыка, Netflix, Кинопоиск и другие стриминговые платформы открыли нам доступ ко всему богатству мультимедиа ресурсов. Но нет никакой гарантии, что завтра вы сможете посмотреть фильм, купленный в iTunes или послушать приобретённый альбом любимого исполнителя, даже если они будут загружены на ваше устройство. Потому что они не принадлежат вам.

В конце прошлого года я проникся мыслью, что так дальше нельзя и решил съезжать с облака.

## Мультимедиа
Тут всё просто — есть торренты. Скачанный файл никто кроме меня не удалит. Из минусов можно отметить, что рекомендательной системы нет, но для меня это не принципиально.

## Синхронизация файлов
Поговорим о файлах и их синхронизации на различных устройствах. Сначала я использовал dropbox для облачного хранения файлов. Но со временем он скурвился и я переехал на Яндекс.Диск. Но вы видели клиенты этих приложений? Это же ад и Израиль. К тому же, их функциональность явно избыточна для меня. Мне нужно просто синхронизировать файлы между устройствами, но мне не нужен облачный доступ к ним.

Решением проблемы для меня стал Syncthing.

## Домашний git-сервер
Я использую git для своего внутреннего документооборота, в том числе для ведения заметок. Очевидно, что класть репозиторий в Syncthing плохая идея, поэтому встаёт вопрос шаринга репозитория между компьютерами. Одним из решений является приватный репозиторий на GitHub или GitLab, но можно легко обойтись без этого, подняв git сервер у себя в локальной сети. Постоянный доступ к серверу и не нужен ведь, так как git распределённый, а работаю с репозиторием только я один. Поэтому достаточно синхронизировать репозиторий один раз в день, например вечером. При этом если всё же возникнет задача синхронизировать репозиторий без доступа к домашнему серверу, это всегда можно сделать при помощи патчей.

По мотивам [запуска своего git сервера](https://freecx.github.io/blog/2020/09/04/simple-git-server) от [Алёшки](https://github.com/FreeCX) запустим сервер у себя в локалке. Только нас будет интересовать не http, а ssh.

Создаём репозиторий
```
ssh gitserver git init --bare path/to/repo
```
Прописываем его в свой remote origin
```
git remote add origin gitserver:path/to/repo 
```
Дальше всё как и всегда
```
git push -u origin master
```

P.S: про физику, математику и программирование будет в следующий раз, мне просто надо было выговориться.